"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2773],{70209:function(e,n,t){var a=t(2265),o=t(6764),r=t(1583);n.Z=function(e,n,t){void 0===t&&(t={});var c=(0,o.Z)(e),i=(0,a.useRef)(null),l=(0,a.useCallback)(function(){i.current&&clearInterval(i.current)},[]);return(0,a.useEffect)(function(){if((0,r.hj)(n)&&!(n<0))return t.immediate&&c(),i.current=setInterval(c,n),l},[n,t.immediate]),l}},42773:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a=t(82775),o=t(62689),r=t(44719),c=t(35278),i=t(29297),l=t(13570),u=t(11045),s=t(44271),m=t(16159),p=t(25038),d=t(2265),g=t(70209),h=t(48527),b=t(97334),f=".set-email-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  overflow: auto;\n  color: var(--text-color);\n}\n.set-email-container .footer-box {\n  position: absolute;\n  bottom: 10px;\n  margin: 0;\n}\n@media (max-height: 500px) {\n  .set-email-container .footer-box {\n    display: none;\n  }\n}\n.set-email-container .display-none {\n  display: none;\n}\n.set-email-container .error-tip {\n  width: 90%;\n  height: 0;\n  padding-left: 10px;\n  margin-top: 6px;\n  margin-bottom: 0;\n  text-align: left;\n  color: red;\n  opacity: 0;\n  transition: all 0.3s;\n}\n.set-email-container .error-tip.show {\n  height: 30px;\n  opacity: 1;\n}\n.set-email-container .set-email-title {\n  margin-top: 60px;\n  font-size: 22px;\n  color: var(--text-color);\n}\n.set-email-container .patment-tips1 {\n  width: 80vw;\n  margin-top: 30px;\n  font-size: 14px;\n  text-align: center;\n  color: var(--text-color);\n}\n@media (min-width: 600px) {\n  .set-email-container .patment-tips1 {\n    width: calc(80 * var(--vw));\n  }\n}\n.set-email-container .set-email-buttons {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: auto;\n  padding-bottom: 20px;\n}\n.set-email-container .success-icon {\n  width: 50px;\n  height: 50px;\n  margin-top: 60px;\n}\n.set-email-container .set-email-desc-1 {\n  box-sizing: border-box;\n  padding: 0 18px;\n  margin: 15px 0 25px;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 16px;\n  text-align: center;\n  color: var(--text-color);\n}\n.set-email-container .account-input-box {\n  position: relative;\n  z-index: 3;\n  width: 90%;\n  height: 47px;\n  margin-top: 28px;\n  border-radius: var(--primary-btn-border-radius);\n  line-height: 47px;\n  color: var(--text-color);\n  background-color: var(--input-background-color);\n  opacity: 1;\n}\n.set-email-container .account-input-box .account-select-country {\n  position: absolute;\n  z-index: 2;\n  top: 54px;\n  left: 2%;\n  width: 96%;\n  height: 210px;\n  border-radius: var(--card-border-radius) !important;\n  overflow-y: auto;\n  background-color: var(--input-background-color);\n}\n.set-email-container .account-input-box .account-select-country::-webkit-scrollbar {\n  display: none;\n  width: 0;\n}\n.set-email-container .account-input-box .account-select-country .account-select-country-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  height: 47px;\n  padding: 5px 0 5px 13px;\n  margin: 0;\n  border-bottom: 1px solid var(--card-unclickable-background-color);\n  font-size: 14px;\n  color: var(--text-color);\n  cursor: pointer;\n}\n.set-email-container .account-input-box .account-select-country .account-select-country-item:hover {\n  background-color: var(--card-unclickable-background-color);\n}\n.set-email-container .account-input-box .account-select-country .account-select-country-item div {\n  display: flex;\n  margin-right: 13px;\n}\n.set-email-container .account-input-box .account-select-country .account-select-country-item div .country-name {\n  max-width: 200px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.set-email-container .account-input-box input[type='number']::-webkit-inner-spin-button,\n.set-email-container .account-input-box input[type='number']::-webkit-outer-spin-button {\n  appearance: none;\n  margin: 0;\n}\n.set-email-container .account-input-box.phone {\n  display: flex;\n  align-items: center;\n  border: 1px solid var(--input-background-color);\n  border-radius: var(--primary-btn-border-radius);\n}\n.set-email-container .account-input-box.phone[data-focus='true'] {\n  border: 1px solid var(--accent-color) !important;\n}\n.set-email-container .account-input-box.phone input {\n  border: none !important;\n}\n.set-email-container .account-input-box.phone input:focus {\n  border: none !important;\n}\n.set-email-container .account-input-box .account-select-opt {\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  width: 60px;\n  height: 100%;\n  padding-left: 8px;\n  cursor: pointer;\n}\n.set-email-container .account-input-box .account-select-opt .account-select-icon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  font-size: 15px;\n}\n.set-email-container .account-input-box .account-select-opt .down-more {\n  margin-left: 8px;\n  font-size: 10px;\n}\n.set-email-container .account-input-box span {\n  flex-shrink: 0;\n  margin: 0;\n  font-size: 15px;\n}\n.set-email-container .account-input-box input {\n  flex-shrink: 1;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  padding: 0 15px;\n  outline: none;\n  font-weight: 400;\n  font-size: 15px;\n  color: var(--text-color);\n  background-color: transparent;\n}\n.set-email-container .send-code-btn {\n  margin-bottom: 0 !important;\n}\n.set-email-container .account-submit-btn {\n  width: 90%;\n  height: 47px;\n  padding: 0;\n  margin-top: 38px;\n  border: none;\n  border-radius: var(--primary-btn-border-radius);\n  font-weight: 500;\n  font-size: var(--primary-btn-font-size);\n  line-height: 47px;\n  text-align: center;\n  color: var(--primary-btn-color);\n  background: var(--primary-btn-background-color);\n  opacity: 1;\n}\n.set-email-container .account-submit-btn.bottom-margin {\n  margin-bottom: 100px;\n}\n.set-email-container .account-submit-btn:hover {\n  border: none;\n  color: var(--primary-btn-color) !important;\n  background: var(--primary-btn-background-color) !important;\n  opacity: var(--hover-opacity);\n}\n.set-email-container .account-switch-item {\n  margin-top: 40px;\n  font-weight: 500;\n  font-size: 13px;\n  line-height: 19px;\n  color: var(--accent-color);\n  cursor: pointer;\n}\n.set-email-container .set-email-desc-2 {\n  min-width: 116px;\n  height: 23px;\n  padding: 0 15px;\n  border-radius: var(--primary-btn-border-radius);\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 23px;\n  text-align: center;\n  color: var(--secondary-text-color);\n  background: var(--tag-background-color);\n  opacity: 1;\n}\n.set-email-container .code-error {\n  position: absolute;\n  left: calc((100vw - 316px) / 2);\n  margin-top: 220px;\n  font-weight: 400;\n  font-size: 12px;\n  color: var(--error-color);\n}\n@media (min-width: 600px) {\n  .set-email-container .code-error {\n    left: calc((var(--vw) * 100 - 316px) / 2);\n  }\n}\n.set-email-container .back {\n  display: flex;\n  align-items: center;\n  height: 19px;\n  margin-top: 90px;\n  margin-bottom: 20px;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 19px;\n  color: var(--accent-color);\n  opacity: 1;\n  cursor: pointer;\n  gap: 8px;\n}\n.set-email-container .back svg {\n  position: relative;\n  top: 0;\n  color: var(--accent-color);\n}\n.set-email-container .send-again {\n  margin-top: 20px;\n  border: none !important;\n  outline: none !important;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 19px;\n  color: var(--text-color);\n  background-color: transparent;\n  box-shadow: none;\n}\n.set-email-container .send-again:hover {\n  color: var(--text-color);\n  background-color: transparent !important;\n}\n.set-email-container .send-again:disabled {\n  opacity: 0.5;\n}\n",v=e=>{let{bindAccount:n,backToInputAccount:t,redirectUrl:a="",verifyToken:l=""}=e,p=(0,i.F)(),{t:v}=(0,i.va)(),{themeType:x,language:y}=(0,i.I)(),E=(0,i.sa)(),[w,k]=(0,d.useState)(""),[_,N]=(0,d.useState)(1e3),[C,S]=(0,d.useState)(60),[z,T]=(0,d.useState)(),Z=(0,d.useRef)(null),{authCoreModal:A}=(0,i.qa)(),[I,D]=(0,d.useState)(!1);(0,g.Z)(()=>{if(C>0){let e=C-1;S(e),0===e&&N(void 0)}},_);let{run:F}=(0,s.Z)(u.F8,{manual:!0,onBefore:()=>{D(!0)},onSuccess:e=>{(0,u.pq)(),a?E(a.split("?")[0],{replace:!0,back:!0,state:{...b.parse(a.split("?")[1]),verifyToken:null==e?void 0:e.token,account:n}}):e.has_set_payment_password?E("/account/security",{replace:!0}):E("/account/set-password")},onError:e=>{(null==e?void 0:e.error_code)===u.MS.InvalidCode?T(v("login.invalid_code")):(null==e?void 0:e.error_code)===u.MS.ResendCode&&T(v("login.please_send_again"))},onFinally:()=>{setTimeout(()=>{D(!1)},2e3)}}),{loading:M,run:R}=(0,s.Z)(u.Y7,{manual:!0,onSuccess:(e,n)=>{_||(S(60),N(1e3))},onError:e=>{S(0),N(void 0)}}),j=e=>{let t;t=n.includes("@")?{email:n,code:e||w}:{phone:n,code:e||w},l&&(t.token=l),F(t)},B=(0,d.useCallback)(h(e=>{j(e)},1e3,{leading:!0,trailing:!1}),[]);return(0,d.useEffect)(()=>{var e;let n=document.getElementsByClassName("react-input-code"),t=e=>e.preventDefault();return null==(e=n[0])||e.addEventListener("contextmenu",t),()=>{var e;null==(e=n[0])||e.removeEventListener("contextmenu",t)}},[]),d.createElement("div",{className:"set-email-container"},d.createElement("style",null,f),d.createElement(r.b,{className:"icon-navigation-back",name:"circle_back",onClick:t}),d.createElement("h2",{className:"set-email-title"},v("account.enter_code")),d.createElement("p",{className:"set-email-desc-2",style:{margin:20}},n),d.createElement("div",{onClick:()=>{var e;null==(e=document.getElementsByClassName("input-code-item")[Math.min(w.length,5)])||e.focus()}},d.createElement(o.a,{containerClassName:"react-input-code",inputClassName:"input-code-item",allowedCharacters:"numeric",length:6,ref:Z,placeholder:" ",onChange:e=>{k(e),T(""),6===e.length&&B(e)}})),z&&d.createElement("div",{className:"code-error"},z),d.createElement(m.Z,{disabled:6!==w.length,className:"account-submit-btn",loading:I,onClick:()=>j()},v("common.confirm")),d.createElement(m.Z,{className:"send-again",onClick:()=>{T(""),n.includes("@")?R({email:n}):(0,u.$V)({theme:x,language:y,getContainer:()=>A.rootBody}).then(e=>{R({phone:n,cf_turnstile_response:e})}).catch(e=>{p.error(v("error.server_20112"))})},disabled:C>0||M},C>0?"".concat(v("login.send_again")," (").concat(C,"s)"):v("login.send_again")),d.createElement("div",{className:"back",onClick:t},d.createElement(r.b,{className:"arrow1-icon",name:"arrow1_icon"}),d.createElement("span",null,v("login.back"))),d.createElement(c.a,null))},x=e=>{let n=(0,i.sa)(),{t:t}=(0,i.va)(),o=null==e?void 0:e.redirectUrl,g=null==e?void 0:e.verifyToken,h=(0,i.F)(),b=(0,d.useRef)(),[x,y]=(0,d.useState)(""),[E,w]=(0,d.useState)(["United States","us","1"]),[k,_]=(0,d.useState)(!1),N=(0,d.useRef)(null),[C,S]=(0,d.useState)(""),{themeType:z,language:T}=(0,i.I)(),{authCoreModal:Z}=(0,i.qa)(),[A,I]=(0,d.useState)("email");(0,d.useEffect)(()=>{if("phone"===A||(null==e?void 0:e.showSwitch)){let e=(0,a.b)();e&&w(e)}},[A,null==e?void 0:e.showSwitch]);let[D,F]=(0,d.useState)(!1);(0,d.useEffect)(()=>{if(D)return document.addEventListener("click",M,!0),()=>{document.removeEventListener("click",M,!0)}},[D]);let M=e=>{setTimeout(()=>{var n;null!=(n=b.current)&&n.contains(e.target)||F(!1)})};(0,d.useEffect)(()=>{let n=null==e?void 0:e.accountType;n&&I(n)},[e]);let{loading:R,run:j}=(0,s.Z)(u.Y7,{manual:!0,onSuccess:(e,n)=>{_(e)},onError:e=>{let n=(null==e?void 0:e.error_code)||0;(50003===n||50004===n)&&(y(""),N.current.value="")}}),B=()=>{let e=N.current.value;if("email"===A){if(!e)return S(t("account.input_vaild_email"));if(!i.u.test(e))return S(t("login.email_format_error"))}else{let n=E[1].toUpperCase();if(!e&&"0"!==e)return S(t("account.input_vaild_mobile"));if(!(0,i.w)(e,n))return S(t("login.phone_format_error"));e="+".concat(E[2]).concat(e)}y(e),e.includes("@")?j({email:e}):(0,u.$V)({theme:z,language:T,getContainer:()=>Z.rootBody}).then(n=>{j({phone:e,cf_turnstile_response:n})}).catch(e=>{h.error(t("error.server_20112"))})};return(0,d.useEffect)(()=>{setTimeout(()=>{var e;null==(e=N.current)||e.focus()})},[]),k?d.createElement(v,{bindAccount:x,redirectUrl:o||"",verifyToken:g,backToInputAccount:()=>{_(!1)}}):d.createElement("div",{className:"set-email-container"},d.createElement("style",null,f),d.createElement(r.b,{className:"icon-navigation-back",name:"circle_back",onClick:()=>n(-1)}),d.createElement("h2",{className:"set-email-title"},t("email"===A?"account.set_your_email":"account.set_your_mobile")),d.createElement("p",{className:"set-email-desc-1"},t("email"===A?"account.set_your_email_tip":"account.set_your_mobile_tip")),"email"===A?d.createElement(d.Fragment,null,d.createElement("div",{className:"account-input-box"},d.createElement("input",{onInput:()=>S(""),className:"input_email",type:"email",placeholder:t("account.place_email_address"),ref:N,defaultValue:x,onKeyDown:e=>{"Enter"===e.key&&B()}}))):d.createElement(d.Fragment,null,d.createElement("div",{className:"account-input-box phone",ref:b},D&&d.createElement("div",{className:"account-select-country"},a.a.map((e,n)=>d.createElement("p",{key:n,className:"account-select-country-item",onClick:()=>{w(e),F(!1)}},d.createElement("div",{className:"country-box"},d.createElement("div",{className:"country-flag"},(0,p.Z)("".concat(e[1]))),d.createElement("span",{className:"country-name"},e[0])),d.createElement("div",{className:"country-code"},"+"+e[2])))),d.createElement("div",{className:"account-select-opt",onClick:()=>F(!D)},d.createElement("div",{className:"account-select-icon"},(0,p.Z)("".concat(E[1]))),d.createElement(l.Z,{className:"down-more"})),d.createElement("span",null,"+",E[2]),d.createElement("input",{onInput:()=>{var e;S(""),N.current.value=(null==(e=N.current.value.match(/^\d+/))?void 0:e[0])||""},type:"text",className:"no-number dd",placeholder:t("account.mobile"),ref:N,onWheel:e=>e.target.blur(),defaultValue:x.replace("+".concat(E[2]),""),onKeyDown:e=>{"Enter"===e.key&&B()},onFocus:()=>{var e;null==(e=document.querySelector(".account-input-box.phone"))||e.setAttribute("data-focus","true")},onBlur:()=>{var e;null==(e=document.querySelector(".account-input-box.phone"))||e.setAttribute("data-focus","false")}}))),d.createElement("p",{className:"error-tip ".concat(C?"show":"")},C),d.createElement(m.Z,{className:"send-code-btn account-submit-btn bottom-margin",loading:R,onClick:B},t("login.get_captcha")),(null==e?void 0:e.showSwitch)&&d.createElement("div",{className:"account-switch-item",onClick:()=>{S(""),I("email"===A?"phone":"email"),y("")}},t("email"===A?"account.switch_text_mobile":"account.switch_text_email")),d.createElement(c.a,null))}},62689:function(e,n,t){t.d(n,{a:function(){return i}});var a=t(29297),o=t(2265),r=["alpha","numeric","alphanumeric"],c={alpha:{type:"text",inputMode:"text",pattern:"[a-zA-Z]{1}"},alphanumeric:{type:"text",inputMode:"text",pattern:"[a-zA-Z0-9]{1}"},numeric:{type:"tel",inputMode:"numeric",pattern:"[0-9]{1}",min:"0",max:"9"}},i=(0,o.forwardRef)((e,n)=>{let{allowedCharacters:t="alphanumeric",ariaLabel:i,autoFocus:l=!0,containerClassName:u,disabled:s,inputClassName:m,isPassword:p=!1,length:d=6,placeholder:g,onChange:h,code:b=""}=e;if(isNaN(d)||d<1)throw Error("Length should be a number and greater than 0");if(!r.some(e=>e===t))throw Error("Invalid value for allowedCharacters. Use alpha, numeric, or alphanumeric");let f=(0,o.useRef)([]),v=c[t];(0,o.useImperativeHandle)(n,()=>({focus:()=>{f.current&&f.current[0].focus()},clear:()=>{if(f.current){for(let e=0;e<f.current.length;e++)f.current[e].value="";f.current[0].focus()}y()}})),(0,o.useEffect)(()=>{l&&(0,a.y)()&&f.current[0].focus()},[]),(0,o.useEffect)(()=>{if(b){for(let e=0;e<f.current.length;e++)f.current[e].value="";for(let e=0;e<b.length;e++)f.current[e].value=b[e];y()}},[b]);let x=f.current.map(e=>e.value).join("")||"",y=()=>{let e=f.current.map(e=>e.value).join("");x!==e&&(h&&h(e),x=e)},E=e=>{var n;let{target:{value:t,nextElementSibling:a}}=e;if(1==t.length)t.match(v.pattern)?null!==a&&a.focus():e.target.value="";else if(t.length>1){let a=Number(e.target.getAttribute("data-index"))||0;for(let e=0;e<t.length;e++){let o=t.charAt(e);o.match(v.pattern)&&(null==(n=f.current)?void 0:n[a])&&(f.current[a].value=o,null!==f.current[a].nextElementSibling&&(f.current[a].nextElementSibling.focus(),a++))}}setTimeout(()=>{y()})},w=e=>{let{key:n}=e,t=e.target;if("Backspace"===n){if(""===t.value){if(null!==t.previousElementSibling){let n=t.previousElementSibling;n.value="",n.focus(),e.preventDefault()}}else t.value="";setTimeout(()=>{y()})}},k=e=>{e.target.select()},_=e=>{var n;let t=null!=(n=e.clipboardData.getData("Text"))?n:"";t=t.replace(/\s/g,"").substring(0,6);let a=0;for(let e=0;e<t.length;e++){let n=t.charAt(e),o=f.current[a].value;n.match(v.pattern)&&(o||(f.current[a].value=n,null!==f.current[a].nextElementSibling&&(f.current[a].nextElementSibling.focus(),a++)))}y(),e.preventDefault()};return o.createElement("div",{className:u},Array(6).fill(0).map((e,n)=>o.createElement("input",{key:n,"data-index":n,onChange:E,onKeyDown:w,onFocus:k,onPaste:_,...v,type:p?"password":v.type,ref:e=>{f.current[n]=e},className:m,autoComplete:0===n?"one-time-code":"off","aria-label":i?"".concat(i,". Character ").concat(n+1,"."):"Character ".concat(n+1,"."),disabled:s,placeholder:g})),o.createElement("div",{className:"input-code-mask",onClick:e=>{e.preventDefault(),e.stopPropagation();for(let e=f.current.length-1;e>=0;e--)if(e>0&&!f.current[e].value&&f.current[e-1].value||0===e&&!f.current[e].value||e==f.current.length-1&&f.current[e].value){f.current[e].focus(),f.current[e].setSelectionRange(f.current[e].value.length,f.current[e].value.length);break}}}))})}}]);