"use client";
import{a as l}from"./chunk-OENTQJFY.mjs";import{a as c}from"./chunk-OZGUXGJL.mjs";import"./chunk-IOEQ3TXF.mjs";import{a as p}from"./chunk-OVV6E33Q.mjs";import{F as m,sa as d,va as g}from"./chunk-6YEBFRI3.mjs";import"./chunk-2FKLQE76.mjs";import{verifyMasterPassword as C}from"@particle-network/auth-core";import{useRequest as I}from"ahooks";import{Button as T,Form as a,Space as S,Typography as B}from"antd";import t,{useState as u}from"react";var h=`.mp-change-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  overflow: auto;
  font-size: 14px;
  color: var(--text-color);
}
.mp-change-container .wapper {
  flex: 1;
  width: 100%;
  padding: 0 18px;
}
.mp-change-container .ant-form {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 800px;
  height: 100%;
}
.mp-change-container .ant-form .ant-form-item {
  margin-bottom: 0;
}
.mp-change-container .ant-form .scroll-content {
  flex: 1;
  width: 100%;
}
.mp-change-container .mp-change-title {
  margin-top: 16px;
  font-weight: 500;
  font-size: 18px;
  line-height: 28px;
  color: var(--text-color);
}
.mp-change-container .mp-input-name {
  align-self: flex-start;
  margin-top: 10px;
  font-weight: 400;
}
.mp-change-container .mp-input {
  margin-top: 6px;
}
.mp-change-container .mp-input-error {
  align-self: flex-start;
  margin-top: 8px;
  color: var(--error-color);
}
.mp-change-container .mp-tip-space {
  width: 100%;
  margin-top: 25px;
  margin-bottom: 110px;
  line-height: 20px;
}
.mp-change-container .mp-tip-space span {
  color: var(--text-color);
}
.mp-change-container .bottom-container .mp-next {
  width: 100%;
}
.mp-change-container .bottom-container .footer-box {
  display: flex;
  justify-content: center;
  align-items: center;
  height: var(--footer-height);
  margin: 0;
}
.mp-change-container .bottom-container .footer-box .footer {
  margin: 0;
}
`;var E=()=>{let s=d(),{t:n}=g(),{Text:i,Link:f}=B,[w,r]=u(!1),x=m(),[v,y]=u(!0),{run:b,loading:N}=I(e=>C(e).then(o=>{if(!o)throw new Error("Master password decryption error");return o}),{manual:!0,onSuccess:e=>{_()},onError:e=>{(e==null?void 0:e.message)==="Master password decryption error"?r(!0):x.error((e==null?void 0:e.message)||"check master password error")}}),_=()=>{s("/account/master-password",{state:{setNewMasterPassword:!0}})},M=e=>{let{password:o}=e;o&&o.length>=6&&o.length<=20?b(o):r(!0)},k=e=>{r(!1);let{password:o}=e;y(!o)},P=()=>{s("/account/master-password/description")};return t.createElement("div",{className:"mp-change-container"},t.createElement("style",null,h),t.createElement(c,{displayBackBtn:!0},n("account.current_master_password")),t.createElement("div",{className:"wapper"},t.createElement(a,{onFinish:M,layout:"vertical",onValuesChange:k},t.createElement("div",{className:"scroll-content"},t.createElement("div",{className:"mp-input-name padding-top-16"},n("account.input_master_password")),t.createElement(a.Item,{name:"password"},t.createElement(l,{className:"mp-input"})),w&&t.createElement("div",{className:"mp-input-error"},n("account.password_error")),t.createElement(S,{direction:"vertical",className:"mp-tip-space"},t.createElement(i,null,n("account.mpc_tss_intro")),t.createElement(i,null,n("account.input_decrypt_hint")," ",t.createElement(f,{onClick:P,className:"more-text-btn"},n("account.learn_more_period"))))),t.createElement(a.Item,null,t.createElement("div",{className:"bottom-container"},t.createElement(T,{className:"primary-antd-btn mp-next",htmlType:"submit",loading:N,disabled:v},n("common.next")),t.createElement(p,null))))))},O=E;export{O as default};
